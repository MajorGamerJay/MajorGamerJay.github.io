<!DOCTYPE html>
<html>
    <head>
        <title> welcome to my small corner in the internet </title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
        <meta charset="UTF-8">
        <meta name="keywords" content="majorgamerjay, linux, gentoo, open-source, foss, gaming">
        <meta name="description" content="jay's website">
        <meta name="author" content="majorgamerjay">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <p align="center">
            <b>
                <a href="index.html">home</a>
                <a href="./manuals.html">manuals</a>
                <a href="./resources.html">resources</a>
                <a href="./travelling.html">travelling</a>
                <a href="https://github.com/MajorGamerJay/">github</a>
                <a href="https://steamcommunity.com/id/majorgamerjay/">steam</a>
                <a href="https://myanimelist.net/animelist/majorgamerjay">myanimelist</a>
                <a href="./feed.xml">rss</a>
            </b>
        </p>
<h1 id="fread()">fread()</h1>

<p>My friend recently wanted a demonstration and a simple explanation of fread() function in C and when I checked the manual, it was pretty hard to understand for a beginner programmer. So, I am going to give a short definition and example here that could be useful to you.</p>

<h3 id="Synopsis">Synopsis</h3>

<p>This is the format in which fread() can be used.</p>

<pre><code>       #include &#60;stdio.h&#62;

       size_t fread(void *restrict ptr, size_t size, size_t nmemb,
                    FILE *restrict stream);
</code></pre>

<h3 id="What%20is%20it?">What is it?</h3>

<p>This function is used read data from a file pointed by a <code>FILE</code> pointer. The function usually takes arguments like this,</p>

<pre><code>fread(pointer to a buffer,
      size of bytes per item in the buffer,
      size of the amount of bytes to be collected from the file to the buffer,
      pointer to the file)
</code></pre>

<p>This returns a <code>size_t</code> or you can just call it an <code>int</code> with the amount of data read from the file. If it didn&#8217;t read data amounting equal to <code>nmemb</code> that means there must&#8217;ve been something wrong while reading. Fix it!</p>

<h3 id="Example">Example</h3>

<p>test.txt: beautiful</p>

<p>fread.c:</p>

<pre><code>    #include &#60;stdio.h&#62;

    int
    main(void)
    {
        char buf[2];
        FILE *file = fopen("test.txt", "r");

        int ret = fread(buf, 1, 2, file);
        printf("%s\n", buf);

        fclose(file);
    }
</code></pre>

<p>Here, fread reads 2 bytes from <code>file</code> and stores it in <code>buf</code>. Per item in <code>buf</code> equals to exactly <code>1</code> byte since it is an array of <code>char</code>.</p>

<p>Output of the program: <code>be</code>. Which is the first two bytes in the file.</p>

<p>Do not forget to close the <code>FILE</code> pointer after the work is done! This is a good practice and can save a large program from boatloads of vulnerabilities.</p>

<p>Materials and information taken from linux man-pages project.</p>
        <p align="center"> ~~ goodbye and come visit again soon! ~~ </p>
        <h5 align="left"><i>CSS by <a href="https://digdeeper.neocities.org/">DigDeeper</a></i></h5>
    </body>
</html>
